Description: >
    Jonathan Garrels |
    This template deploys the network infrastructure for the Udagram web app.

Parameters:
    EnvironmentName:
        Description: The environment name that will be prefixed to resource names.
        Type: String
    
    VpcCIDR:
        Description: The IP range (CIDR notation) for the VPC.
        Type: String
        Default: 10.0.0.0/16

Resources:
    VPC:
        Type: AWS::EC2::VPC
        Properties:
            CidrBlock: !Ref VpcCIDR
            EnableDnsHostnames: true
            Tags:
                - Key: Name
                  Value: !Sub ${EnvironmentName} - VPC

Outputs:
    VPC:
        Description: Reference to the created VPC.
        Value: !Ref VPC
        Export:
            Name: !Sub ${EnvironmentName}-VPCID
